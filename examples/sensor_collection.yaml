# Example SensorCollection YAML configuration
#
# This file defines a set of sensors attached to a vehicle.  Each sensor entry
# specifies:
#
#   type             – "camera", "lidar", or "radar"
#   coordinate_system – frame convention of the raw sensor data
#                       FLU  = Forward / Left  / Up   (ROS convention)
#                       RDF  = Right  / Down   / Forward (camera optical)
#                       FRD  = Forward / Right / Down
#   extrinsics       – 6-DoF pose of the sensor **relative to the ego frame**
#       translation  – [x, y, z] in metres
#       rotation     – unit quaternion [w, x, y, z]
#
# For camera sensors an additional "intrinsics" block is required:
#   fx, fy           – focal lengths in pixels
#   cx, cy           – principal point in pixels
#   width, height    – image resolution in pixels
#   distortion_coefficients – Brown–Conrady model [k1, k2, p1, p2, k3]
#
# The ego frame origin is at the centre of the rear axle projected onto the
# ground plane, with x pointing forward, y pointing left, z pointing up
# (FLU convention).

sensors:
  front_camera:
    type: camera
    coordinate_system: RDF   # camera optical frame
    extrinsics:
      translation: [1.80, 0.00, 1.45]   # 1.8 m ahead, 1.45 m above ground
      rotation:
        quaternion: [0.5, -0.5, 0.5, -0.5]  # 90° roll to align RDF with FLU
    intrinsics:
      fx: 1266.417
      fy: 1266.417
      cx: 816.0
      cy: 612.0
      width: 1632
      height: 1224
      distortion_coefficients: [-0.05, 0.08, 0.0, 0.0, -0.03]

  front_left_camera:
    type: camera
    coordinate_system: RDF
    extrinsics:
      translation: [1.60, 0.39, 1.44]
      rotation:
        quaternion: [0.643, -0.358, 0.358, -0.577]
    intrinsics:
      fx: 1257.8
      fy: 1257.8
      cx: 827.2
      cy: 450.0
      width: 1920
      height: 1080
      distortion_coefficients: [0.0, 0.0, 0.0, 0.0, 0.0]

  front_lidar:
    type: lidar
    coordinate_system: FLU   # Velodyne / Ouster default
    extrinsics:
      translation: [1.84, 0.00, 1.91]   # roof-mounted unit
      rotation:
        quaternion: [1.0, 0.0, 0.0, 0.0]  # no rotation from ego

  rear_lidar:
    type: lidar
    coordinate_system: FLU
    extrinsics:
      translation: [-0.50, 0.00, 1.85]
      rotation:
        quaternion: [0.0, 0.0, 0.0, 1.0]   # 180° yaw rotation

  front_radar:
    type: radar
    coordinate_system: FLU
    extrinsics:
      translation: [2.10, 0.00, 0.55]
      rotation:
        quaternion: [1.0, 0.0, 0.0, 0.0]
    radar_parameters:
      max_range: 200.0           # metres
      range_resolution: 0.4      # metres
      azimuth_fov: 90.0          # degrees
      elevation_fov: 14.0        # degrees
      velocity_resolution: 0.1   # m/s

  gnss:
    type: gps
    coordinate_system: ENU
    extrinsics:
      translation: [0.00, 0.00, 1.60]   # roof-mounted antenna
      rotation:
        quaternion: [1.0, 0.0, 0.0, 0.0]
    gps_parameters:
      reference_latitude: 37.7749        # San Francisco, CA (example)
      reference_longitude: -122.4194
      reference_altitude: 16.0
      coordinate_frame: ENU

  imu:
    type: imu
    coordinate_system: FLU
    extrinsics:
      translation: [0.00, 0.00, 0.50]   # vehicle body centre
      rotation:
        quaternion: [1.0, 0.0, 0.0, 0.0]
    imu_parameters:
      accelerometer_noise_density: 0.003924   # m/s²/√Hz  (typical MEMS)
      gyroscope_noise_density: 0.000205       # rad/s/√Hz
      accelerometer_random_walk: 0.004330     # m/s³/√Hz
      gyroscope_random_walk: 0.0000438        # rad/s²/√Hz
      update_rate: 200.0                      # Hz
